<nav class="h-16 flex w-full items-center justify-between border-b n-main-border n-main-bg py-2 px-4">
  <div class="flex items-center justify-start gap-4">
    <%= link_to root_path, class: "rounded-lg n-main-focus" do %>
      <%= image_tag "nosia-logo.png", class: "h-8" %>
    <% end %>
  </div>
  <div class="flex items-center">
    <div class="flex items-center">
      <% if Current.user %>
        <button command="show-modal" commandfor="dialog" id="toggleSidebarMobileSearch" type="button" class="n-nav-link n-main-hover">
          <span class="sr-only">Search</span>
          <%= inline_svg "svg/search.svg", title:"Search", alt:"Search", class:"w-5 h-5" %>
        </button>
        <%= render "search" %>
      <% end %>
      <button id="theme-toggle" type="button" class="n-nav-link n-main-hover">
        <%= inline_svg "svg/moon.svg", id: "theme-toggle-dark-icon", title:"Dark mode", alt:"Toggle dark mode", class:"hidden h-6 w-6" %>
        <%= inline_svg "svg/sun.svg", id: "theme-toggle-light-icon", title:"Light mode", alt:"Toggle light mode", class:"hidden h-6 w-6" %>
      </button>
    </div>

    <% if Current.user %>
      <button id="dropdownUser" data-dropdown-toggle="dropdown" aria-expanded="false" class="n-nav-link n-main-hover flex shrink-0 rounded-full">
        <span class="sr-only">Open user menu</span>
        <%= inline_svg "svg/user-circle.svg", title:"User", alt:"Open user menu", class: "w-6 h-6" %>
      </button>
      <div id="dropdown" class="hidden n-dropdown-menu border n-main-border" data-popper-placement="bottom">
        <ul aria-labelledby="dropdownButton" class="n-dropdown-list">
          <li>
            <%= link_to profile_path, class:"group n-dropdown-item n-main-hover n-main-focus" do %>
              <%= inline_svg "svg/identification.svg", title:"User", alt:"User info", class: "w-6 h-6" %>
              <span>User info</span>
            <% end %>
          </li>
          <li>
            <%= link_to settings_path, class:"group n-dropdown-item n-main-hover n-main-focus" do %>
              <%= inline_svg "svg/cog.svg", title:"Settings", alt:"Settings", class: "w-6 h-6" %>
              <span>Settings</span>
            <% end %>
          </li>
          <li>
            <%= link_to logout_path, data: { turbo_method: :delete }, title: "Sign out", alt:"Sign out", class:"group n-dropdown-item n-main-hover n-main-focus" do %>
              <%= inline_svg "svg/power.svg", title:"Settings", alt:"Settings", class: "w-6 h-6" %>
              <span>Sign out</span>
            <% end %>
          </li>
        </ul>
      </div>
    <% end %>
  </div>
</nav>
