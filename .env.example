# Nosia Environment Configuration
# Copy this file to .env and update with your actual values

# Application URL
NOSIA_URL=https://nosia.localhost

# Allow user registration (set to false to disable)
REGISTRATION_ALLOWED=true

# Secret Key Base (generate with: bin/rails secret)
# IMPORTANT: Change this in production!
SECRET_KEY_BASE=your_secret_key_base_here

# AI Service Configuration
# Base URL for OpenAI-compatible API (e.g., Ollama, OpenAI, etc.)
AI_BASE_URL=http://model-runner.docker.internal/engines/llama.cpp/v1
AI_API_KEY=

# LLM Model Configuration
LLM_MODEL=ai/granite-4.0-h-tiny
LLM_TEMPERATURE=0.1
LLM_MAX_TOKENS=1_024
LLM_TOP_K=40
LLM_TOP_P=0.9

# Embedding Model Configuration
EMBEDDING_MODEL=ai/granite-embedding-multilingual
EMBEDDING_DIMENSIONS=768

# Optional: Separate embedding service URL (defaults to AI_BASE_URL)
# EMBEDDING_BASE_URL=http://model-runner.docker.internal/engines/llama.cpp/v1

# Document Processing Configuration
CHUNK_MAX_TOKENS=512
CHUNK_MIN_TOKENS=128
CHUNK_MERGE_PEERS=true
RETRIEVAL_FETCH_K=3

# RAG (Retrieval Augmented Generation) Configuration
RAG_SYSTEM_TEMPLATE="You are Nosia, a helpful assistant. If necessary, use the information contained in the context. Give a complete answer to the question. Only answer the question asked, the answer must be relevant to the question. If the answer cannot be deduced from the context, do not use the context."

# Optional: Guard Model for additional validation
GUARD_MODEL=

# Database Configuration (for production)
# Uncomment and configure for production deployments
# POSTGRES_HOST=postgres-db
# POSTGRES_PORT=5432
# POSTGRES_DB=nosia_production
# POSTGRES_USER=nosia
# POSTGRES_PASSWORD=your_secure_password_here
# DATABASE_URL=postgresql://$POSTGRES_USER:$POSTGRES_PASSWORD@$POSTGRES_HOST:$POSTGRES_PORT/$POSTGRES_DB

# Optional: Docling Serve Configuration
# For advanced document processing
DOCLING_SERVE_BASE_URL=

# Optional: Augmented Context
# Enable for enhanced chat completions with context augmentation
AUGMENTED_CONTEXT=false

# Development/Test Database Configuration (handled by config/database.yml)
# DB_HOST=localhost
